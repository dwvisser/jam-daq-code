<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Microsoft FrontPage 4.0">
   <TITLE>Jam Menus</TITLE>
   <LINK REL=STYLESHEET TYPE="text/css" HREF="manualstyle.css" TITLE="Manual Style">
<meta name="Microsoft Border" content="none, default">
</HEAD>
<BODY>
<h1>Jam User Manual</h1>
<H2>Menus</H2>
<p><span class=jammenu><a href="#file">File</a></span>--file access, printing, and exiting</p>
<p><span class=jammenu><a href="#setup">Setup</a></span>--setup of data acquisition</p>
<p><span class=jammenu><a href="#control">Control</a></span>--execution of data acquisition</p>
<p><span class=jammenu><a href="#histogram">Histogram</a></span>--viewing of histograms</p>
<p><span class=jammenu><a href="#gate">Gate</a></span>--setting and displaying gates</p>
<p><span class=jammenu><a href="#scalers">Scalers</a></span>--setting and displaying scalers and monitors</p>
<p><span class=jammenu><a href="#preferences">Preferences</a></span>--display options</p>
<p><span class=jammenu><a href="#fitting">Fitting</a></span>--performing fits of spectra</p>
<p><span class=jammenu><a href="#help">Help</a></span>--link to documentation</p>

<a name="file"><h3>File Menu</h3></a>

<p>The majority of commands in this menu access disk files.  All state in the command title what the <code>.xxx</code> extension to the file is.  In <span class=jam>jam</span>, we have decided to strictly enforce the use of these extensions to denote file types.  All filenames entered in the dialog boxes automatically have any extension stripped and the specific extension (e.g. <code>.jhf</code>) applied.

<ul>
  <li><span class=jammenu>New</span>--Erase histograms, scalers, and gates...start fresh.</li>
  
  <li><span class=jammenu>Open</span>--Enabled if no sort file has been loaded.  Reads in histograms and scalers from a <code>.jhf</code> file, replacing any data currently being viewed.</li>
  
  <li><span class=jammenu>Reload</span>--Enabled only if a sort file has been loaded.  Only works properly if the same (or close to the same) sort file was used to take the data as is currently in memory.  Reads in all information, i.e. histograms, gates, and scalers.</li>
  
  <li><span class=jammenu>Save</span>--Saves all gates, scalers, and histograms in memory to the current <code>filename.jhf</code>.  Useful if you want to modify the gates in a file, maybe?</li>
  
  <li><span class=jammenu>Save as...</span>--Same as save, except the user is prompted with a file dialog to name the file.</li>
  <li><span class=jammenu>Import/Export</span>--import/export spectra from other data formats.</li>
  <ul>
    <li><span class=jammenu>ASCII...</span>--Currently limited to 1-D spectra.  The format is channel number and counts in pairs separated by white space, e.g. <blockquote><code>0 4<br>1 3<br>2 0<br>...</code></blockquote></li>
    <li><span class=jammenu>ORNL .drr .his ...</span>--This is a multiple spectrum (1- to multi- dimensional) file format, written by Milner for use at Oak Ridge National Lab.  The files always come in pairs, a <code>filename.drr</code> directory file and a <code>filename.his</code> histogram file.  The <code>filename</code> is the same for both.</li>
    <li><span class=jammenu>Radware .spe</span>--This is the 1-d histogram format used by the gf2 program.</li>
    <li><span class=jammenu>XSYS .dat ...</span>--Imports spectra (no export capability) using the <span class=acronym>XSYS</span> format. <span class=acronym>XSYS</span> is a data acquistion program written at <span class=acronym>TUNL</span>.  It has been used at the University of Washington Nuclear Physics Laboratory (<span class=acronym>NPL</span> in Seattle.</li>
  </ul>
  <li><span class=jammenu>Print Setup...</span>--Sets the options in the print dialog box, such as printing command (usually <code>lp</code>), paper size, etc.</li>
  <li><span class=jammenu>Print...</span>--Brings up the print dialog box, and lets you send the print job.</li>
  <li><span class=jammenu>Exit...</span>--Exits the program after receiving verification in a final dialog box.</li>
</ul>

<a href="#top">Back</a> to top.

<a name="setup"><h3>Setup Menu</h3></a>

<ul>
  <li><span class=jammenu>Camac...</span>--Specify the <span class=acronym>CNAF</span> commands to be executed by the <span class=acronym>VME</span> computer during acquisition.  Commands are entered in the following format, in sequence, one to a line:<br><blockquote><code>C N A F Description</code></blockquote> These commands are then processed and stored in a special format that the VME can read.</li>
  <li><a name="online"><span class=jammenu>Online Sorting...</span></a>--Brings up a dialog box to set up files for acquiring data online.  See <a href="takingdata.html">Online Sorting</a>.</li>
  <li><span class=jammenu>Offline Sorting...</span>--Brings up a dialog box to set up files for sorting data offline.  See <a href="sortingdata.html">Offline Sorting</a>.</li>
  <li><span class=jammenu>Remote Hookup...</span>--Brings up a dialog box to set up for remote viewing of a session.  See <a href="remoteviewdata.html">Remote Viewing</a>.</li>
</ul>
<a href="#top">Back</a> to top.

<a name="control"><h3>Control Menu</h3></a>
<ul>
  <li><span class=jammenu>start</span>--In online mode, starts acquisition of data from the electronics.  Data is taken to the histograms in memory.  <b>Important: Use <span class=jammmenu>Run...</span> if you wish to store event data.</b>  Offline, this command starts streaming from disk or tape.</li>
  <li><span class=jammenu>stop</span>--Stops (pauses, really) data acquisition.  Useful if you wish to stop acquisition without ending the current run.</li>
  <li><span class=jammenu>flush</span>--May not be implemented yet.  It is supposed to force the front end to send whatever events it has in memory.  If this doesn't work, a <span class=jammenu>stop</span> followed by a <span class=jammenu>start</span> accomplishes the same thing.</li>
  <li><span class=jammenu>Run...</span>--Brings up the dialog box for controlling data acquisition to disk or tape.  See <a href="takingdata.html">Online Sorting</a>.</li>
  <li><span class=jammenu>Sort...</span>--Brings up the dialog box for sorting from disk or tape.  See <a href="sortingdata.html">Offline Sorting</a>.</li>
  <li><span class=jammenu>Parameters...</span>--Parameters may be set in this dialog box to affect the behavior of the currently loaded sort routine.  These parameters are defined in the sort routine itself.  For example, we often want to correct the position of the detector in software for data from the <a href="http://wnsl.physics.yale.edu/astro/enge">Yale Enge Splitpole Spectrometer</a>.  We allow parameters for adjusting the detector in software to lie on the focal plane, and use track data (front position + rear position of particle track) to improve energy resolution.</li>
  <li><span class=jammenu>Status...</span>--Brings up a window displaying the progress of offline sorting.</li>
  <li><span class=jammenu>Rewind Tape</span>--Only implemented properly on unix systems.  If the tape device has been set properly in <a href="#online"><span class=jammenu>Setup|Online Sorting...</span></a>, this will rewind the tape currently inserted.  This menu item is only enabled when the tape is not otherwise being used by <span class=jam>jam</span>.</li>
</ul>
<a href="#top">Back</a> to top.

<a name="histogram"><h3>Histogram Menu</h3></a>
<ul>
  <li><span class=jammenu>New Histogram...</span>--The user creates a new histogram and adds it to the drop-down list. <span class=jamfield>Name</span> is a short (up to 12 characters) name for the histogram to go on the dropdown list.  <span class=jamfield>Title</span> is a longer (up to 50 characters) descriptive name for the histogram, which is displayed in the plot panel and on printouts.  <span class=jamfield>Type</span> is either a <code>1</code> or a <code>2</code>, the dimensionality of the histogram.  <span class=jamfield>Size</span> is the number of channels in the histogram, and should be some power of 2.  For example, to make a 1024 channel histogram, the user would enter <code>1024</code> in <span class=jamfield>Size</span> and the resulting histogram will have channels numbered 0 thru 1023.</li>
  <li><span class=jammenu>Zero Histograms...</span>--Three buttons are on this dialog.  <span class=jambutton>Displayed</span> will zero the currently displayed histogram. <span class=jambutton>All</span> will zero all histograms in memory. <span class=jambutton>Cancel</span> lets one quit the dialog without zeroing anything. <b>Warning: there is no safety feature on this.  Once you click a button, the histogram contents are gone!</b></li>
  <li><span class=jammenu>Calibrate Histogram...</span>--Here, you may enter coefficients in a polynomial relation for an energy calibration in a particular 1-d histogram. Each histogram can store its own calibration function.</li>
</ul>
<a href="#top">Back</a> to top.

<a name="gate"><h3>Gate Menu</h3></a>
<ul>
  <li><span class=jammenu>Set Gate...</span>--Brings up a dialog box for setting gates in the currently selected histogram.  There is a drop down list of gates available to set in the current histogram. Select the one you want.  For a 1-d histogram, click 2 channels to be the boundary, and then click <span class=jambutton>Save</span> in the dialog box.  For 2-d histograms, click on a series of points to define a perimeter to the gate area you want to set.  Clicking <span class=jambutton>Save</span> connects the last point to the first point automatically.  Gates are displayed by selecting them from the <em>Gate</em> drop down list just below the menu.</li>
</ul>
<a href="#top">Back</a> to top.

<a name="scalers"><h3>Scalers Menu</h3></a>
<ul>
  <li><span class=jammenu>Display Scalers...</span>--Displays a dialog box with fields for each defined scaler.  Clicking <span class=jambutton>Read</span> retrieves the latest value from the <span class=acronym>CAMAC</span> crate.  Clicking <span class=jambutton>Zero</span> zeroes the registers in the scaler unit(s). Note that there is a safety feature: you must first uncheck <span class=checkbox>Disable Zero</span> before zeroing scalers.</li>
  <li><span class=jammenu>Zero Scalers...</span>--Brings up a subset of the <span class=jammenu>Display Scalers...</span> dialog box, just for zeroing the scalers.  See the instructions above.</li>
  <li><span class=jammenu>Display Monitors...</span>--Shows the guages for the monitors that have been defined in the sort file and set up in <span class=jammenu>Configure Monitors...</span>.  Selecting <span class=checkbox>Audio Alarm</span> causes <span class=jam>jam</span> to issue a beep whenever any monitor value falls outside specified limits (in addition to turning from green to red, which always happens).</li>
  <li><span class=jammenu>Configure Monitors...</span>--Allows you to set range, minimum allowable, and maximum allowable values for monitors which have been defined in the sort file.</li>
</ul>
<a href="#top">Back</a> to top.

<a name="preferences"><h3>Preferences Menu</h3></a>
<ul>
  <li><span class=jammenu>Ingnore zero channel on autoscale</span>--Causes <span class=jam>jam</span> to ignore any underflow in the first channel of the histogram when the user clicks <span class=jambutton>Auto</span>.</li>
  <li><span class=jammenu>Ignore max channel on autoscale</span>--Causes <span class=jam>jam</span> to ignore any overflow in the last channel of the histogram when the user clicks <span class=jambutton>Auto</span>.</li>
  <li><span class=jammenu>Black Background</span>--Sets the display color scheme to white on black.</li>
  <li><span class=jammenu>White Background</span>--Sets the display color scheme to black on white.</li>
  <li><span class=jammenu>VME Verbose</span>--If enabled, causes return messages from the VME to be displayed on the console.</li>
</ul>
<a href="#top">Back</a> to top.

<a name="fitting"><h3>Fitting Menu</h3></a>
<ul>
  <li><span class=jammenu>Load Fit...</span>--Loads a fitting routine into the menu.  A routine, <code>GaussianFit</code> for fitting one peak with a background has been included in <span class=jam>jam 0.5</span>, which uses <code>LevenbergMarquadt</code>.  For more info, see <a href="fitting">Fitting Spectra</a>.</li>
</ul>
<a href="#top">Back</a> to top.

<a name="help"><h3>Help Menu</h3></a>
<ul>
  <li><span class=jammenu>About...</span>--The standard box showing who wrote the software, and when.</li>
  <li><span class=jammenu>User Guide...</span>--If <code>Jam.ini</code> is set up properly, pulls up a browser pointed to this manual.</li>
  <li><span class=jammenu>Jam Code...</span>--If <code>Jam.ini</code> is set up properly, pulls up a browser pointed to the <em>javadoc</em> web pages (the API), giving more technical detail about the inner workings of <span class=jam>jam</span>.</li>
</ul>
<a href="#top">Back</a> to top.</BODY>
</HTML>
